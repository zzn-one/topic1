{"ast":null,"code":"export default {\n  name: \"DialogTutorInfo\",\n  props: [\"formType\", \"tId\", 'dialogVisible'],\n  emits: ['closeDialog'],\n  data() {\n    return {\n      visible: false,\n      title: '',\n      infoDetail: {\n        tId: '',\n        tName: \"\",\n        title: '',\n        gender: \"\",\n        password: \"\",\n        college: \"\",\n        major: \"\",\n        phone: \"\",\n        email: \"\"\n      },\n      genderList: '',\n      collegeList: '',\n      majorList: '',\n      titleList: '',\n      rules: {\n        tId: [{\n          required: true,\n          message: '工号不能为空',\n          trigger: 'blur'\n        }],\n        tName: [{\n          required: true,\n          message: '导师姓名不能为空',\n          trigger: 'blur'\n        }],\n        title: [{\n          required: true,\n          message: '请选择导师职称',\n          trigger: 'change'\n        }],\n        gender: [{\n          required: true,\n          message: '请选择导师性别',\n          trigger: 'change'\n        }],\n        password: [{\n          required: true,\n          message: '密码不能为空',\n          trigger: 'blur'\n        }],\n        college: [{\n          required: true,\n          message: '请选择学院',\n          trigger: 'change'\n        }],\n        major: [{\n          required: true,\n          message: '请选择专业名称',\n          trigger: 'change'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          length: 11,\n          message: '手机号长度为11位',\n          trigger: 'change'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱账号',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          // 发送请求\n          let code = 201;\n          if (code === 200) {\n            //请求成功\n            this.$message.success('信息已更新！');\n          } else {\n            this.$message.error('信息更新失败！');\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    // 关闭dialog\n    closeDialogEmit() {\n      this.visible = false;\n      this.$emit('closeDialog', this.visible);\n    }\n  },\n  watch: {\n    dialogVisible(newval) {\n      this.visible = newval;\n    },\n    'infoDetail.college'(newval) {\n      //根据newval发送请求获取majorList\n      this.majorList = [{\n        major_id: '0101',\n        description: '计算机科学与技术'\n      }, {\n        major_id: '0102',\n        description: '软件工程'\n      }, {\n        major_id: '0103',\n        description: '通信工程'\n      }];\n    }\n  },\n  updated() {\n    if (this.formType === '1') {\n      this.title = '修改导师信息';\n      //使用sId发送请求，获取sId对应导师的全部信息\n      console.log(\"请求tId对应导师的信息\" + this.sId);\n    } else {\n      this.title = '新增导师信息';\n    }\n  },\n  created() {\n    //发送请求获取genderList\n    this.genderList = [{\n      gender: 0,\n      description: '未知'\n    }, {\n      gender: 1,\n      description: '男'\n    }, {\n      gender: 2,\n      description: '女'\n    }];\n    //发送请求获取collegeList\n    this.collegeList = [{\n      college_id: '01',\n      description: '信息与通信工程学院'\n    }, {\n      college_id: '02',\n      description: '土木学院'\n    }, {\n      college_id: '03',\n      description: '艺术学院'\n    }];\n    //发送请求获取titleList\n    this.titleList = [{\n      title: 0,\n      description: \"讲师\"\n    }, {\n      title: 0,\n      description: \"副教授\"\n    }, {\n      title: 0,\n      description: \"教授\"\n    }];\n  }\n};","map":{"version":3,"mappings":"AAsEA;EACAA;EACAC;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAH;QACAI;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MAEAC;QACAZ,MACA;UAAAa;UAAAC;UAAAC;QAAA,EACA;QACAd,QACA;UAAAY;UAAAC;UAAAC;QAAA,EACA;QACAjB,QACA;UAAAe;UAAAC;UAAAC;QAAA,EACA;QACAb,SACA;UAAAW;UAAAC;UAAAC;QAAA,EACA;QACAZ,WACA;UAAAU;UAAAC;UAAAC;QAAA,EACA;QACAX,UACA;UAAAS;UAAAC;UAAAC;QAAA,EACA;QACAV,QACA;UAAAQ;UAAAC;UAAAC;QAAA,EACA;QACAT,QACA;UAAAO;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAF;UAAAC;QAAA,EACA;QACAR,QACA;UAAAM;UAAAC;UAAAC;QAAA;MAGA;IACA;EACA;EACAE;IACAC;MACA;QACA;UACA;UACA;UACA;YACA;YACA;UACA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACA;MACA;MACA,kBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;IACA;EACA;EACAC;IAEA;MACA;MACA;MACAC;IACA;MACA;IAEA;EAEA;EACAC;IACA;IACA,mBACA;MAAAxB;MAAAqB;IAAA,GACA;MAAArB;MAAAqB;IAAA,GACA;MAAArB;MAAAqB;IAAA,EACA;IACA;IACA,oBACA;MAAAI;MAAAJ;IAAA,GACA;MAAAI;MAAAJ;IAAA,GACA;MAAAI;MAAAJ;IAAA,EACA;IACA;IACA,kBACA;MAAAzB;MAAAyB;IAAA,GACA;MAAAzB;MAAAyB;IAAA,GACA;MAAAzB;MAAAyB;IAAA,EAEA;EACA;AAEA","names":["name","props","emits","data","visible","title","infoDetail","tId","tName","gender","password","college","major","phone","email","genderList","collegeList","majorList","titleList","rules","required","message","trigger","length","methods","submitForm","closeDialogEmit","watch","dialogVisible","major_id","description","updated","console","created","college_id"],"sourceRoot":"src/components/home/admin","sources":["DialogTutorInfo.vue"],"sourcesContent":["<template>\r\n    <el-dialog :title=\"title\" :visible.sync=\"visible\" width=\"800px\" @close=\"closeDialogEmit\">\r\n\r\n        <el-form ref=\"infoForm\" :rules=\"rules\" :model=\"infoDetail\" label-width=\"100px\" class=\"box-form\">\r\n            <el-form-item label=\"工号\" prop=\"tId\">\r\n                <el-input v-model.trim=\"infoDetail.tId\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"导师姓名\" prop=\"tName\">\r\n                <el-input v-model.trim=\"infoDetail.tName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"导师职称\" prop=\"title\">\r\n                <el-select v-model.trim=\"infoDetail.title\" placeholder=\"请选择导师职称\">\r\n                    <el-option v-for=\"item in titleList\" :key=\"item.title\" :label=\"item.description\"\r\n                        :value=\"item.title\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"性别\" prop=\"gender\">\r\n                <el-select v-model.trim=\"infoDetail.gender\" placeholder=\"请选择性别\">\r\n                    <el-option v-for=\"item in genderList\" :key=\"item.gender\" :label=\"item.description\"\r\n                        :value=\"item.gender\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"所属学院\" prop=\"college\">\r\n                <el-select v-model.trim=\"infoDetail.college\" placeholder=\"请选择学院\">\r\n                    <el-option v-for=\"item in collegeList\" :key=\"item.college_id\" :label=\"item.description\"\r\n                        :value=\"item.college_id\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属系\" prop=\"major\">\r\n                <el-select v-model.trim=\"infoDetail.major\" placeholder=\"请选择系\">\r\n                    <el-option v-for=\"item in majorList\" :key=\"item.major_id\" :label=\"item.description\"\r\n                        :value=\"item.major_id\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n                <el-input v-model.trim=\"infoDetail.password\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机号\" prop=\"phone\">\r\n                <el-input v-model.trim=\"infoDetail.phone\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model.trim=\"infoDetail.email\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item>\r\n                <el-row>\r\n                    <el-button plain type=\"primary\" class=\"info_btns\" v-if=\"formType === '0'\"\r\n                        @click=\"submitForm('infoForm')\">新增导师信息\r\n                    </el-button>\r\n\r\n                    <el-button plain type=\"primary\" class=\"info_btns\" v-else @click=\"submitForm('infoForm')\">修改导师信息\r\n                    </el-button>\r\n\r\n                    <el-button plain type=\"danger\" class=\"info_btns\" @click=\"closeDialogEmit\">取消</el-button>\r\n\r\n                </el-row>\r\n\r\n            </el-form-item>\r\n        </el-form>\r\n    </el-dialog>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"DialogTutorInfo\",\r\n    props: [\"formType\", \"tId\", 'dialogVisible'],\r\n    emits: ['closeDialog'],\r\n    data() {\r\n        return {\r\n            visible: false,\r\n            title: '',\r\n            infoDetail: {\r\n                tId: '',\r\n                tName: \"\",\r\n                title:'',\r\n                gender: \"\",\r\n                password: \"\",\r\n                college: \"\",\r\n                major: \"\",\r\n                phone: \"\",\r\n                email: \"\",\r\n            },\r\n            genderList: '',\r\n            collegeList: '',\r\n            majorList: '',\r\n            titleList:'',\r\n\r\n            rules: {\r\n                tId: [\r\n                    { required: true, message: '工号不能为空', trigger: 'blur' },\r\n                ],\r\n                tName: [\r\n                    { required: true, message: '导师姓名不能为空', trigger: 'blur' },\r\n                ],\r\n                title: [\r\n                    { required: true, message: '请选择导师职称', trigger: 'change' },\r\n                ],\r\n                gender: [\r\n                    { required: true, message: '请选择导师性别', trigger: 'change' },\r\n                ],\r\n                password: [\r\n                    { required: true, message: '密码不能为空', trigger: 'blur' },\r\n                ],\r\n                college: [\r\n                    { required: true, message: '请选择学院', trigger: 'change' },\r\n                ],\r\n                major: [\r\n                    { required: true, message: '请选择专业名称', trigger: 'change' },\r\n                ],\r\n                phone: [\r\n                    { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                    { length: 11, message: '手机号长度为11位', trigger: 'change' }\r\n                ],\r\n                email: [\r\n                    { required: true, message: '请输入邮箱账号', trigger: 'blur' },\r\n                ],\r\n\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    // 发送请求\r\n                    let code = 201\r\n                    if (code === 200) {\r\n                        //请求成功\r\n                        this.$message.success('信息已更新！')\r\n                    } else {\r\n                        this.$message.error('信息更新失败！')\r\n                    }\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        // 关闭dialog\r\n        closeDialogEmit() {\r\n            this.visible = false\r\n            this.$emit('closeDialog', this.visible)\r\n        }\r\n    },\r\n    watch: {\r\n        dialogVisible(newval) {\r\n            this.visible = newval\r\n        },\r\n        'infoDetail.college'(newval) {\r\n            //根据newval发送请求获取majorList\r\n            this.majorList=[\r\n                { major_id: '0101', description: '计算机科学与技术' },\r\n                { major_id: '0102', description: '软件工程' },\r\n                { major_id: '0103', description: '通信工程' },\r\n            ]\r\n        }\r\n    },\r\n    updated() {\r\n\r\n        if (this.formType === '1') {\r\n            this.title = '修改导师信息'\r\n            //使用sId发送请求，获取sId对应导师的全部信息\r\n            console.log(\"请求tId对应导师的信息\" + this.sId);\r\n        } else {\r\n            this.title = '新增导师信息'\r\n\r\n        }\r\n\r\n    },\r\n    created() {\r\n        //发送请求获取genderList\r\n        this.genderList = [\r\n            { gender: 0, description: '未知' },\r\n            { gender: 1, description: '男' },\r\n            { gender: 2, description: '女' },\r\n        ]\r\n        //发送请求获取collegeList\r\n        this.collegeList = [\r\n            { college_id: '01', description: '信息与通信工程学院' },\r\n            { college_id: '02', description: '土木学院' },\r\n            { college_id: '03', description: '艺术学院' },\r\n        ]\r\n        //发送请求获取titleList\r\n        this.titleList=[\r\n            {title:0,description:\"讲师\"},\r\n            {title:0,description:\"副教授\"},\r\n            {title:0,description:\"教授\"},\r\n\r\n        ]\r\n    }\r\n\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.info_btns {\r\n    margin-top: 30px;\r\n    margin-left: 110px;\r\n    width: 150px;\r\n    font-size: 18px;\r\n}\r\n\r\n.box-form {\r\n    line-height: 23px;\r\n    font-size: 22px;\r\n    text-align: left;\r\n    height: 720px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}