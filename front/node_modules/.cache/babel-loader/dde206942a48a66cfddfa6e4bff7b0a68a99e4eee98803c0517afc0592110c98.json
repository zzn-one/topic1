{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"TopicSelect\",\n  data() {\n    return {\n      topicList: [],\n      selectedTopic: '',\n      deadline: '',\n      // 分页\n      total: '',\n      currentPage: '',\n      pageSize: '',\n      pageSizeList: []\n    };\n  },\n  methods: {\n    // 分页的pageSize\n    handleSizeChange(val) {\n      this.pageSize = val;\n    },\n    // 分页的currentPage\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    //选择课题按钮\n    selectTopic(row) {\n      this.$confirm('确认选择这个毕设课题: ' + row.name + ' 吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        //发送请求 修改毕设课题的状态\n\n        this.selectedTopic = row.name;\n        this.$message({\n          type: 'success',\n          message: '成功选择课题!'\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消选择'\n        });\n      });\n    },\n    //重新选择按钮\n    resetTopic(row) {\n      this.$confirm('确定把你的毕设课题更改为这个毕设课题: ' + row.name + ' 吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'danger'\n      }).then(() => {\n        //发送请求 修改毕设课题的状态\n\n        this.selectedTopic = row.name;\n        this.$message({\n          type: 'success',\n          message: '成功选择课题!'\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消选择'\n        });\n      });\n    },\n    //课题选择结束\n    selectFinish() {\n      this.$confirm('选题任务已经结束！', '提示', {\n        confirmButtonText: '确定',\n        type: 'warning'\n      }).then(() => {\n        this.$router.push(\"/home/student/studentTopic\");\n      });\n    }\n  },\n  created() {\n    //倒计时\n    let date = new Date(parseInt(this.$route.query.deadline));\n    this.deadline = date.getTime();\n\n    //分页\n    this.total = 100;\n    this.currentPage = 1;\n    this.pageSizeList = [5, 10, 15, 20];\n    this.pageSize = this.pageSizeList[0];\n\n    //根据毕业生用户的专业获取 毕设课题列表 \n    this.topicList = [];\n    for (let index = 0; index < 100; index++) {\n      this.topicList.push({\n        name: \"基于xxx的xxx系统\",\n        type: \"设计\",\n        source: \"自命题\"\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AA2CA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAEA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;MACA;QAEA;;QAEA;QAEA;UACAA;UACAC;QACA;MAGA;QACA;UACAD;UACAC;QACA;MACA;IACA;IACA;IACAC;MACA;QACAJ;QACAC;QACAC;MACA;QAEA;;QAEA;QAEA;UACAA;UACAC;QACA;MAGA;QACA;UACAD;UACAC;QACA;MACA;IACA;IACA;IACAE;MACA;QACAL;QACAE;MACA;QACA;MACA;IACA;EACA;EACAI;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;;IAEA;IACA;IAEA;MACA,oBACA;QACAnB;QACAe;QACAK;MACA,EACA;IACA;EACA;AAEA","names":["name","data","topicList","selectedTopic","deadline","total","currentPage","pageSize","pageSizeList","methods","handleSizeChange","handleCurrentChange","selectTopic","confirmButtonText","cancelButtonText","type","message","resetTopic","selectFinish","created","source"],"sourceRoot":"src/components/home/student","sources":["TopicSelect.vue"],"sourcesContent":["<template>\r\n    <div class=\"topicSelectMain\">\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"card_header\">\r\n                <div class=\"card_header_item\">你选择的课题是：{{ selectedTopic }}</div>\r\n                <div>\r\n                    <el-statistic @finish=\"selectFinish\" :value=\"deadline\" time-indices prefix=\"距离本次抢题任务结束还有：\">\r\n                    </el-statistic>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"text item\">\r\n                <el-table stripe :data=\"topicList\" max-height=\"650\">\r\n                    <el-table-column type=\"index\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"name\" label=\"课题名称\" min-width=\"400\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"type\" label=\"课题类型\" min-width=\"100\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"source\" label=\"课题来源\" min-width=\"100\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column label=\"操作\" min-width=\"200\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button v-if=\"selectedTopic===''\" plain type=\"primary\" @click=\"selectTopic(scope.row)\">选择课题</el-button>\r\n                            <el-button v-else plain type=\"warning\" @click=\"resetTopic(scope.row)\">重新选择</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n\r\n                <!-- 分页 -->\r\n                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\" :page-sizes=\"pageSizeList\" :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n                </el-pagination>\r\n\r\n            </div>\r\n        </el-card>\r\n\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"TopicSelect\",\r\n    data() {\r\n        return {\r\n            topicList: [],\r\n            selectedTopic: '',\r\n            deadline: '',\r\n            // 分页\r\n            total: '',\r\n            currentPage: '',\r\n            pageSize: '',\r\n            pageSizeList: []\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        // 分页的pageSize\r\n        handleSizeChange(val) {\r\n            this.pageSize = val\r\n        },\r\n        // 分页的currentPage\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val\r\n        },\r\n        //选择课题按钮\r\n        selectTopic(row) {\r\n            this.$confirm('确认选择这个毕设课题: ' + row.name + ' 吗?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n\r\n                //发送请求 修改毕设课题的状态\r\n\r\n                this.selectedTopic = row.name\r\n\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '成功选择课题!'\r\n                });\r\n\r\n\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消选择'\r\n                });\r\n            });\r\n        },\r\n        //重新选择按钮\r\n        resetTopic(row){\r\n            this.$confirm('确定把你的毕设课题更改为这个毕设课题: ' + row.name + ' 吗?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'danger'\r\n            }).then(() => {\r\n\r\n                //发送请求 修改毕设课题的状态\r\n\r\n                this.selectedTopic = row.name\r\n\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '成功选择课题!'\r\n                });\r\n\r\n\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消选择'\r\n                });\r\n            });\r\n        },\r\n        //课题选择结束\r\n        selectFinish() {\r\n            this.$confirm('选题任务已经结束！', '提示', {\r\n                confirmButtonText: '确定',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                this.$router.push(\"/home/student/studentTopic\")\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        //倒计时\r\n        let date = new Date(parseInt(this.$route.query.deadline))\r\n        this.deadline = date.getTime()\r\n\r\n        //分页\r\n        this.total = 100\r\n        this.currentPage = 1\r\n        this.pageSizeList = [5, 10, 15, 20]\r\n        this.pageSize = this.pageSizeList[0]\r\n\r\n        //根据毕业生用户的专业获取 毕设课题列表 \r\n        this.topicList = []\r\n\r\n        for (let index = 0; index < 100; index++) {\r\n            this.topicList.push(\r\n                {\r\n                    name: \"基于xxx的xxx系统\",\r\n                    type: \"设计\",\r\n                    source: \"自命题\"\r\n                }\r\n            )\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.card_header {\r\n    font-size: 24px;\r\n}\r\n\r\n.card_header_item {\r\n    margin-bottom: 20px;\r\n\r\n}\r\n\r\n/deep/.el-statistic {\r\n    font-size: 18px;\r\n}\r\n\r\n.box-card {\r\n    height: 818px;\r\n    line-height: 18px;\r\n    background-color: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n/deep/.el-table {\r\n    font-size: 16px;\r\n    color: #606266;\r\n    background-color: rgba(255, 255, 255, 0);\r\n}\r\n\r\n/deep/.el-table th.el-table__cell {\r\n    overflow: hidden;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    user-select: none;\r\n    background-color: #FFF;\r\n    line-height: 40px;\r\n    font-size: 18px;\r\n    color: black;\r\n}\r\n\r\n.topicSelectMain {\r\n    background-color: rgba(255, 255, 255, 0);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}