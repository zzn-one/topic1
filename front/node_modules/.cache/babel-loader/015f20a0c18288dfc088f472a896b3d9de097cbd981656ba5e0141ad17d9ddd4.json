{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"TaskPublish\",\n  data() {\n    return {\n      taskList: [],\n      historyTaskList: [],\n      dialogVisible: false,\n      taskForm: {\n        name: '',\n        year: '',\n        college: '',\n        major: '',\n        startTime: '',\n        duration: '',\n        publishBy: ''\n      }\n    };\n  },\n  methods: {\n    //显示dialog\n    openDialog() {\n      this.dialogVisible = true;\n    },\n    //新增任务\n    addTask() {\n      this.dialogVisible = false;\n    },\n    //取消提交\n    cancelSubmit() {\n      this.dialogVisible = false;\n    },\n    //删除任务\n    cancelTask(row) {\n      console.log(row);\n      this.$confirm('此操作将永久删除该任务: ' + row.name + ' , 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        //发送请求，删除row.id 对应的任务\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    }\n  },\n  created() {\n    //获取任务列表\n    this.taskList = [];\n    for (let index = 0; index < 150; index++) {\n      this.taskList.push({\n        id: index,\n        name: '任务名称' + index,\n        year: 3022,\n        college: \"xxx学院\",\n        major: '计算机科学与技术',\n        startTime: new Date().toLocaleString(),\n        duration: 30,\n        status: '未开始',\n        publishBy: '江婷'\n      });\n    }\n    //获取历史任务列表\n    this.historyTaskList = [];\n    for (let index = 0; index < 17; index++) {\n      this.historyTaskList.push({\n        id: index,\n        name: '任务名称' + index,\n        year: 3022,\n        college: \"xxx学院\",\n        major: '计算机科学与技术',\n        startTime: new Date().toLocaleString(),\n        duration: 30,\n        status: '已完成',\n        publishBy: '江婷'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAoGA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAL;QACAM;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACAC;MACA;QACAC;QACAC;QACAC;MACA;QACA;QACA;UACAA;UACAC;QACA;MACA;QACA;UACAD;UACAC;QACA;MACA;IAEA;EACA;EACAC;IACA;IACA;IACA;MACA;QACAC;QACAvB;QACAM;QACAC;QACAC;QACAC;QACAC;QACAc;QACAb;MACA;IAEA;IACA;IACA;IACA;MACA;QACAY;QACAvB;QACAM;QACAC;QACAC;QACAC;QACAC;QACAc;QACAb;MACA;IAEA;EAEA;AACA","names":["name","data","taskList","historyTaskList","dialogVisible","taskForm","year","college","major","startTime","duration","publishBy","methods","openDialog","addTask","cancelSubmit","cancelTask","console","confirmButtonText","cancelButtonText","type","message","created","id","status"],"sourceRoot":"src/components/home/admin","sources":["TaskPublish.vue"],"sourcesContent":["<template>\r\n    <el-card class=\"box-card\">\r\n        <div slot=\"header\">\r\n            <el-row>\r\n                <el-col :span=\"12\">\r\n                    <div>选题任务发布</div>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <div class=\"header_btn\">\r\n                        <el-button plain type=\"primary\" @click=\"openDialog\">新增选题任务</el-button>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <span></span>\r\n        </div>\r\n        <div class=\"item\">\r\n            <el-table :data=\"taskList\" style=\"width: 100%;margin-bottom:30px\" height=\"311\">\r\n                <el-table-column type=\"index\" prop=\"id\" align=\"center\" width=\"70\"></el-table-column>\r\n                <el-table-column prop=\"name\" align=\"center\" label=\"当前任务名称\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"year\" align=\"center\" label=\"届数\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"college\" align=\"center\" label=\"学院\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"major\" align=\"center\" label=\"专业\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"startTime\" align=\"center\" label=\"开始时间\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"duration\" align=\"center\" label=\"任务时长（分钟）\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"status\" align=\"center\" label=\"任务状态\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"publishBy\" align=\"center\" label=\"任务发布人\">\r\n                </el-table-column>\r\n                <el-table-column>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button plain type=\"danger\" @click=\"cancelTask(scope.row)\">取消任务</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-table :data=\"historyTaskList\" style=\"width: 100%\" height=\"339\">\r\n                <el-table-column type=\"index\" align=\"center\" width=\"70\"></el-table-column>\r\n                <el-table-column prop=\"name\" align=\"center\" label=\"历史任务名称\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"year\" align=\"center\" label=\"届数\" width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"college\" align=\"center\" label=\"学院\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"major\" align=\"center\" label=\"专业\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"startTime\" align=\"center\" label=\"开始时间\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"duration\" align=\"center\" label=\"任务时长（分钟）\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"status\" align=\"center\" label=\"任务状态\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"publishBy\" align=\"center\" label=\"任务发布人\">\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-dialog title=\"新增选题任务\" :visible.sync=\"dialogVisible\">\r\n                <el-form :model=\"taskForm\">\r\n                    <el-form-item label=\"任务名称\">\r\n                        <el-input v-model=\"taskForm.name\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"届数\">\r\n                        <el-date-picker v-model=\"taskForm.year\" type=\"year\" placeholder=\"选择届数\">\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"学院\">\r\n                        <el-select v-model=\"taskForm.college\" placeholder=\"请选择活动区域\">\r\n                            <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n                            <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"专业\">\r\n                        <el-select v-model=\"taskForm.major\" placeholder=\"请选择活动区域\">\r\n                            <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n                            <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"任务开始时间\">\r\n                        <el-date-picker v-model=\"taskForm.startTime\" type=\"year\" placeholder=\"选择开始时间\">\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"选课时长\">\r\n                        <el-input-number v-model=\"taskForm.duration\"  :min=\"1\"  label=\"描述文字\"></el-input-number>\r\n                    </el-form-item>\r\n                </el-form>\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"cancelSubmit\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"addTask\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </div>\r\n\r\n\r\n    </el-card>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"TaskPublish\",\r\n    data() {\r\n        return {\r\n            taskList: [],\r\n            historyTaskList: [],\r\n            dialogVisible: false,\r\n            taskForm: {\r\n                name: '',\r\n                year: '',\r\n                college: '',\r\n                major: '',\r\n                startTime: '',\r\n                duration: '',\r\n                publishBy: ''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //显示dialog\r\n        openDialog() {\r\n            this.dialogVisible = true\r\n        },\r\n\r\n        //新增任务\r\n        addTask() {\r\n            this.dialogVisible = false\r\n        },\r\n        //取消提交\r\n        cancelSubmit() {\r\n            this.dialogVisible = false\r\n        },\r\n\r\n        //删除任务\r\n        cancelTask(row) {\r\n            console.log(row);\r\n            this.$confirm('此操作将永久删除该任务: ' + row.name + ' , 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                //发送请求，删除row.id 对应的任务\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '删除成功!'\r\n                });\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });\r\n            });\r\n\r\n        }\r\n    },\r\n    created() {\r\n        //获取任务列表\r\n        this.taskList = []\r\n        for (let index = 0; index < 150; index++) {\r\n            this.taskList.push({\r\n                id: index,\r\n                name: '任务名称' + index,\r\n                year: 3022,\r\n                college: \"xxx学院\",\r\n                major: '计算机科学与技术',\r\n                startTime: new Date().toLocaleString(),\r\n                duration: 30,\r\n                status: '未开始',\r\n                publishBy: '江婷'\r\n            })\r\n\r\n        }\r\n        //获取历史任务列表\r\n        this.historyTaskList = []\r\n        for (let index = 0; index < 17; index++) {\r\n            this.historyTaskList.push({\r\n                id: index,\r\n                name: '任务名称' + index,\r\n                year: 3022,\r\n                college: \"xxx学院\",\r\n                major: '计算机科学与技术',\r\n                startTime: new Date().toLocaleString(),\r\n                duration: 30,\r\n                status: '已完成',\r\n                publishBy: '江婷'\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.header_btn {\r\n    float: right;\r\n}\r\n\r\n.box-card {\r\n    text-align: left;\r\n    line-height: 24px;\r\n    font-size: 18px;\r\n    height: 818px;\r\n    background-color: rgba(255, 255, 255, 0.9);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}