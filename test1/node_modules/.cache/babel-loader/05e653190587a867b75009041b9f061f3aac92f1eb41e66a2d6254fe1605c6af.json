{"ast":null,"code":"export default {\n  name: \"NewTopic\",\n  data() {\n    var validateTopicName = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入课题名称'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      newTopicForm: {\n        checkTableId: '',\n        topic: [{\n          topicName: \"基于xxx技术的xxx课题名称\",\n          topicType: '',\n          topicSource: ''\n        }]\n      },\n      rules: {\n        \"topic.topicName\": [{\n          validator: validateTopicName,\n          trigger: 'blur'\n        }],\n        \"topic.topicType\": [{\n          required: true,\n          message: '请选择课题类型',\n          trigger: 'change'\n        }],\n        \"topic.topicSource\": [{\n          required: true,\n          message: '请选择课题来源',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    addNewTopic() {\n      let length = this.newTopicForm.topic.length;\n      if (length >= 10) {\n        this.$message({\n          message: '每个指导老师的毕业课题数量上限为10个',\n          type: 'warning'\n        });\n      } else {\n        this.newTopicForm.topic[length] = {\n          topicName: '',\n          topicType: '',\n          topicSource: ''\n        };\n        this.$forceUpdate();\n      }\n    },\n    deleteTopic(index) {\n      this.newTopicForm.topic.splice(index, 1);\n      this.$forceUpdate();\n    }\n  }\n};","map":{"version":3,"mappings":"AAyCA;EACAA;EACAC;IACA;MACA;QACAC;MACA;QACAA;MACA;IACA;IACA;MACAC,cACA;QACAC;QACAC;UACAC;UACAC;UACAC;QACA;MACA;MACAC;QACA,oBACA;UAAAC;UAAAC;QAAA,EACA;QACA,oBACA;UAAAC;UAAAC;UAAAF;QAAA,EACA;QACA,sBACA;UAAAC;UAAAC;UAAAF;QAAA;MAEA;IAEA;EACA;EACAG;IACAC;MACA;MACA;QACA;UACAF;UACAG;QACA;MACA;QACA;UACAV;UACAC;UACAC;QACA;QACA;MACA;IAEA;IACAS;MACA;MACA;IACA;EACA;AACA","names":["name","data","callback","newTopicForm","checkTableId","topic","topicName","topicType","topicSource","rules","validator","trigger","required","message","methods","addNewTopic","type","deleteTopic"],"sourceRoot":"src/components/home/tutor","sources":["NewTopic.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-row class=\"header_main\">\r\n            <el-col :span=\"12\" class=\"title_col\">\r\n                <div class=\"title_div\">毕业课题提交表</div>\r\n            </el-col>\r\n            <el-col :span=\"12\" class=\"btn_col\">\r\n                <div class=\"btn_div\">\r\n                    <el-button type=\"text\" @click=\"addNewTopic\">新增课题</el-button>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- 新增毕业课题 -->\r\n        <el-form :inline=\"true\" :model=\"newTopicForm\" :rules=\"rules\" class=\"form_main\">\r\n            <div v-for=\"topic, index in newTopicForm.topic \">\r\n\r\n                <el-form-item label=\"课题名称\">\r\n                    <el-input v-model=\"topic.topicName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"课题类型\">\r\n                    <el-select v-model=\"topic.topicType\">\r\n                        <el-option label=\"设计\" :value=\"0\"></el-option>\r\n                        <el-option label=\"论文\" :value=\"1\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"课题来源\">\r\n                    <el-select v-model=\"topic.topicSource\">\r\n                        <el-option label=\"自命题\" :value=\"0\"></el-option>\r\n                        <el-option label=\"企业\" :value=\"1\"></el-option>\r\n                        <el-option label=\"教师科研\" :value=\"2\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button plain type=\"danger\" @click=\"deleteTopic(index)\">删除该课题</el-button>\r\n                </el-form-item>\r\n            </div>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"NewTopic\",\r\n    data() {\r\n        var validateTopicName = (rule, value, callback) => {\r\n            if (value === '') {\r\n                callback(new Error('请输入课题名称'));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            newTopicForm:\r\n            {\r\n                checkTableId: '',\r\n                topic: [{\r\n                    topicName: \"基于xxx技术的xxx课题名称\",\r\n                    topicType: '',\r\n                    topicSource: ''\r\n                }]\r\n            },\r\n            rules: {\r\n                \"topic.topicName\": [\r\n                    { validator: validateTopicName, trigger: 'blur' }\r\n                ],\r\n                \"topic.topicType\": [\r\n                    { required: true, message: '请选择课题类型', trigger: 'change' }\r\n                ],\r\n                \"topic.topicSource\": [\r\n                    { required: true, message: '请选择课题来源', trigger: 'change' }\r\n                ]\r\n            }\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        addNewTopic() {\r\n            let length = this.newTopicForm.topic.length\r\n            if (length >= 10) {\r\n                this.$message({\r\n                    message: '每个指导老师的毕业课题数量上限为10个',\r\n                    type: 'warning'\r\n                });\r\n            } else {\r\n                this.newTopicForm.topic[length] = {\r\n                    topicName: '',\r\n                    topicType: '',\r\n                    topicSource: ''\r\n                }\r\n                this.$forceUpdate()\r\n            }\r\n\r\n        },\r\n        deleteTopic(index) {\r\n            this.newTopicForm.topic.splice(index, 1)\r\n            this.$forceUpdate()\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.form_main {\r\n    line-height: 23px;\r\n}\r\n\r\n.header_main {\r\n    line-height: 23px;\r\n    font-size: 18px;\r\n    text-align: left;\r\n    margin-bottom: 50px;\r\n\r\n}\r\n\r\n.header_main .el-button {\r\n    height: 23px;\r\n    line-height: 23px;\r\n    font-size: 18px;\r\n    text-align: right;\r\n    padding: 0;\r\n\r\n}\r\n\r\n.btn_col {\r\n    position: relative;\r\n    margin-left: -70px;\r\n}\r\n\r\n.btn_div {\r\n    float: right;\r\n}\r\n\r\n.el-select {\r\n    width: 120px;\r\n}\r\n\r\n/deep/.el-form--inline .el-form-item__label {\r\n    font-size: 18px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}