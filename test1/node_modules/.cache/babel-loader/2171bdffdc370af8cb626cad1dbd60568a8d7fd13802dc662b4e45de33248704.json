{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TopicPreview from '@/components/home/student/TopicPreview.vue';\nimport TopicTimeLine from '@/components/home/shared/TopicTimeLine.vue';\nexport default {\n  name: \"TopicTask\",\n  components: {\n    TopicTimeLine,\n    TopicPreview\n  },\n  data() {\n    return {\n      hasTask: false,\n      hasTopic: false,\n      year: '',\n      btnDisabled: true,\n      taskParams: {\n        taskName: '',\n        college: '',\n        major: '',\n        startTime: '',\n        duration: ''\n      },\n      previewDialogVisible: false\n    };\n  },\n  methods: {\n    topicSelect() {\n      const date = new Date(this.taskParams.startTime);\n      const deadline = date.getTime() + parseInt(this.taskParams.duration) * 60 * 1000;\n      this.$router.push({\n        path: \"/home/student/topicSelect\",\n        query: {\n          \"deadline\": deadline\n        }\n      });\n    },\n    openTopic() {\n      // 发送axios 请求 \n      // 根据 学生的专业  获取所有课题\n      this.previewDialogVisible = true;\n    },\n    openSelectTopicBtn() {\n      this.btnDisabled = false;\n    }\n  },\n  created() {\n    //选题任务\n    this.taskParams.taskName = \"选题任务名1\";\n    this.taskParams.college = \"xxx学院\";\n    this.taskParams.major = \"计算机科学与技术\";\n    this.taskParams.startTime = \"2022-12-15 18:55\";\n    this.taskParams.duration = 10000;\n\n    //是否有选题任务\n    this.hasTask = true;\n\n    //该学生是否已有课题\n    this.hasTopic = false;\n\n    //毕业年份\n    this.year = 3022;\n  }\n};","map":{"version":3,"mappings":";AA6CA;AACA;AAEA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;QACAC;QACAC;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EAEA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;IACA;;IAEA;IACA;EAEA;AACA","names":["name","components","TopicTimeLine","TopicPreview","data","hasTask","hasTopic","year","btnDisabled","taskParams","taskName","college","major","startTime","duration","previewDialogVisible","methods","topicSelect","path","query","openTopic","openSelectTopicBtn","created"],"sourceRoot":"src/components/home/student","sources":["TopicTask.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <!-- 如果学生已有课题，显示 -->\r\n        <template v-if=\"hasTopic\">\r\n            <div class=\"task-div\">\r\n                <h1>{{ year }}届毕业设计选题</h1>\r\n                <h2>已结束</h2>\r\n            </div>\r\n        </template>\r\n        <!-- 如果学生没有课题 且 没任务 ，显示 -->\r\n        <template v-else-if=\"!hasTopic & !hasTask\">\r\n            <div class=\"task-div\">\r\n                <h1>当前没有选题任务</h1>\r\n            </div>\r\n        </template>\r\n        <template v-else>\r\n            <div class=\"task-div\">\r\n                <el-descriptions :column=\"1\" :title=\"taskParams.taskName\">\r\n                    <el-descriptions-item label=\"院系\">{{ taskParams.college }}</el-descriptions-item>\r\n                    <el-descriptions-item label=\"专业\">{{ taskParams.major }}</el-descriptions-item>\r\n                    <el-descriptions-item label=\"开始时间\">{{ taskParams.startTime }}</el-descriptions-item>\r\n                    <el-descriptions-item label=\"选题时长\">{{ taskParams.duration }}分钟</el-descriptions-item>\r\n                    <el-descriptions-item label=\"距离任务开始还有\">\r\n                        <el-statistic format=\"HH:mm:ss\" :value=\"new Date(taskParams.startTime).getTime()\" time-indices\r\n                            @finish=\"openSelectTopicBtn\"></el-statistic>\r\n                    </el-descriptions-item>\r\n                </el-descriptions>\r\n                <el-row>\r\n                    <el-button type=\"primary\" plain @click=\"openTopic\">预览课题</el-button>\r\n                    <el-button type=\"success\" plain @click=\"topicSelect\" :disabled=\"this.btnDisabled\">进入选题</el-button>\r\n                </el-row>\r\n                <div style=\"height:20px\"></div>\r\n            </div>\r\n        </template>\r\n\r\n        <!-- 毕业设计时间线 -->\r\n        <TopicTimeLine></TopicTimeLine>\r\n        <!-- 预览课题页面 -->\r\n        <el-dialog width=\"900px\" title=\"预览课题页面\" :visible.sync=\"previewDialogVisible\">\r\n            <TopicPreview></TopicPreview>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicPreview from '@/components/home/student/TopicPreview.vue';\r\nimport TopicTimeLine from '@/components/home/shared/TopicTimeLine.vue';\r\n\r\nexport default {\r\n    name: \"TopicTask\",\r\n    components: {\r\n        TopicTimeLine,\r\n        TopicPreview\r\n    },\r\n    data() {\r\n        return {\r\n            hasTask: false,\r\n            hasTopic: false,\r\n            year: '',\r\n            btnDisabled: true,\r\n            taskParams: {\r\n                taskName: '',\r\n                college: '',\r\n                major: '',\r\n                startTime: '',\r\n                duration: ''\r\n            },\r\n            previewDialogVisible: false,\r\n        }\r\n    },\r\n    methods: {\r\n        topicSelect() {\r\n            const date = new Date(this.taskParams.startTime)\r\n            const deadline = date.getTime() + parseInt(this.taskParams.duration) * 60 * 1000\r\n            this.$router.push({\r\n                path: \"/home/student/topicSelect\",\r\n                query: {\r\n                    \"deadline\": deadline\r\n                }\r\n            })\r\n        },\r\n        openTopic() {\r\n            // 发送axios 请求 \r\n            // 根据 学生的专业  获取所有课题\r\n            this.previewDialogVisible = true\r\n        },\r\n        openSelectTopicBtn() {\r\n            this.btnDisabled = false\r\n        }\r\n\r\n    },\r\n    created() {\r\n        //选题任务\r\n        this.taskParams.taskName = \"选题任务名1\"\r\n        this.taskParams.college = \"xxx学院\"\r\n        this.taskParams.major = \"计算机科学与技术\"\r\n        this.taskParams.startTime = \"2022-12-15 18:55\"\r\n        this.taskParams.duration = 10000\r\n\r\n        //是否有选题任务\r\n        this.hasTask = true\r\n\r\n        //该学生是否已有课题\r\n        this.hasTopic = false\r\n\r\n        //毕业年份\r\n        this.year = 3022\r\n\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.main {\r\n    line-height: 24px;\r\n}\r\n\r\n.el-timeline {\r\n    margin-top: 20px;\r\n}\r\n\r\n.task-div {\r\n    border: 1px solid rgb(185, 186, 189);\r\n    width: 400px;\r\n    margin: 20px auto;\r\n    background-color: rgba(240, 248, 255, 0.7);\r\n    backdrop-filter: blur(10px);\r\n}\r\n\r\n/deep/.el-statistic .con {\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n}\r\n\r\n/deep/.el-descriptions__title {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    margin: 0 auto;\r\n    margin-top: 20px;\r\n}\r\n\r\n/deep/.el-descriptions {\r\n    box-sizing: border-box;\r\n    font-size: 18px;\r\n    color: #303133;\r\n    margin-bottom: 20px;\r\n\r\n}\r\n\r\n/deep/.el-descriptions-item__label:not(.is-bordered-label) {\r\n    margin-right: 10px;\r\n    margin-left: 10px;\r\n    width: 200px;\r\n    color: #000000;\r\n}\r\n\r\n/deep/.el-descriptions__body {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n    backdrop-filter: blur(10px);\r\n}\r\n\r\n/deep/.el-dialog {\r\n\r\n    background: rgba(255, 255, 255, 0.9);\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}